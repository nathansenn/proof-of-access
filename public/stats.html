<!DOCTYPE html>
<html>
<head>
    <title>Stats Viewer</title>
    <style>
        body.dark-mode {
            background-color: #333;
            color: #f2f2f2;
        }
        body.light-mode {
            background-color: #fff;
            color: #000;
        }
        table {
            width: 100%;
        }
        th, td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
<style>
    .switch {
        position: relative;
        display: inline-block;
        width: 60px;
        height: 34px;
    }
    .switch input { 
        position: absolute;
        width: 100%;
        height: 100%;
        opacity: 0;
        cursor: pointer;
    }
    .slider {
        position: absolute;
        cursor: pointer;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: #ccc;
        -webkit-transition: .4s;
        transition: .4s;
    }
    .slider:before {
        position: absolute;
        content: "";
        height: 26px;
        width: 26px;
        left: 4px;
        bottom: 4px;
        background-color: white;
        -webkit-transition: .4s;
        transition: .4s;
    }
    input:checked + .slider {
        background-color: #2196F3;
    }
    input:focus + .slider {
        box-shadow: 0 0 1px #2196F3;
    }
    input:checked + .slider:before {
        -webkit-transform: translateX(26px);
        -ms-transform: translateX(26px);
        transform: translateX(26px);
    }
    .slider.round {
        border-radius: 34px;
    }
    .slider.round:before {
        border-radius: 50%;
    }
</style>
</head>
<body class="dark-mode">
<button id="themeSwitch">Toggle Theme</button>
<h1>Database Stats</h1>
<!-- Rest of the HTML code -->
</body>
<table id="statsTable">
    <tr>
        <th>Name</th>
        <th>CID</th>
        <th>Seed</th>
        <th>Status</th>
        <th>Created</th>
        <th>Elapsed</th>
    </tr>
</table>

<script>
    document.addEventListener('DOMContentLoaded', (event) => {
        const themeSwitch = document.getElementById('themeSwitch');
        themeSwitch.addEventListener('click', function(){
            if (document.body.classList.contains('dark-mode')) {
                document.body.classList.remove('dark-mode');
                document.body.classList.add('light-mode');
            } else {
                document.body.classList.remove('light-mode');
                document.body.classList.add('dark-mode');
            }
        });
    });
    const statsTable = document.getElementById('statsTable');

    // Replace with your server WebSocket URL
    const wsUrl = "ws://spk.tv/get-stats";
    const ws = new WebSocket(wsUrl);

    ws.onmessage = function(event) {
        let data = JSON.parse(event.data);
        if (data.Status === "OK") {
            let stats = JSON.parse(data.Message);
            stats.forEach(stat => {
                let row = statsTable.insertRow(-1);
                let nameCell = row.insertCell(0);
                let cidCell = row.insertCell(1);
                let seedCell = row.insertCell(2);
                let statusCell = row.insertCell(3);
                let timeCell = row.insertCell(4);
                let elapsedCell = row.insertCell(5);

                cidCell.innerHTML = stat.CID;
                seedCell.innerHTML = stat.seed;
                statusCell.innerHTML = stat.status;
                nameCell.innerHTML = stat.name;
                timeCell.innerHTML = stat.time;
                elapsedCell.innerHTML = stat.elapsed;
            });
        }
    };

    ws.onerror = function(event) {
        console.error("WebSocket error observed:", event);
    };
</script>

</body>
</html>
